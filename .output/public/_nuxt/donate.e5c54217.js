var Je=Object.defineProperty;var Qe=(t,n,s)=>n in t?Je(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;var G=(t,n,s)=>(Qe(t,typeof n!="symbol"?n+"":n,s),s);import{i as Me,r as $,j as ke,k as Ze,l as se,u as et,m as re,n as ze,p as Te,q as tt,x as ot,y as h,z as at,A as nt,B as st,D as rt,G as Ee,H as ie,I as it,J as lt,K as ut,L as dt,M as ct,O as le,P as F,Q as Ne,R as pt,S as ft,f as H,v as Z,o as d,c as g,g as p,F as ee,U as y,W as a,X as J,b as v,Y as P,w as C,Z as Q,$ as L,a0 as ue,a as U,a1 as vt,a2 as mt,a3 as ht,t as N,a4 as gt,a5 as yt,a6 as $e,a7 as bt,a8 as wt,e as Oe,a9 as xt,V as St,aa as Ct,C as It,_ as Pt,T as De,s as z,d as E,E as _t,h as kt}from"./entry.ec10e388.js";import{m as zt,u as Et,v as Nt}from"./directive.ebc2a5d9.js";import{$ as $t}from"./index.3473db9b.js";const Dt=()=>Me&&/firefox/i.test(window.navigator.userAgent),de="update:modelValue",Vt=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function Ft(t){const n=$();function s(){if(t.value==null)return;const{selectionStart:r,selectionEnd:u,value:c}=t.value;if(r==null||u==null)return;const w=c.slice(0,Math.max(0,r)),f=c.slice(Math.max(0,u));n.value={selectionStart:r,selectionEnd:u,value:c,beforeTxt:w,afterTxt:f}}function o(){if(t.value==null||n.value==null)return;const{value:r}=t.value,{beforeTxt:u,afterTxt:c,selectionStart:w}=n.value;if(u==null||c==null||w==null)return;let f=r.length;if(r.endsWith(c))f=r.length-c.length;else if(r.startsWith(u))f=u.length;else{const b=u[w-1],_=r.indexOf(b,w-1);_!==-1&&(f=_+1)}t.value.setSelectionRange(f,f)}return[s,o]}let x;const Mt=`
  height:0 !important;
  visibility:hidden !important;
  ${Dt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Tt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ot(t){const n=window.getComputedStyle(t),s=n.getPropertyValue("box-sizing"),o=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),r=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:Tt.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:r,boxSizing:s}}function Ve(t,n=1,s){var o;x||(x=document.createElement("textarea"),document.body.appendChild(x));const{paddingSize:r,borderSize:u,boxSizing:c,contextStyle:w}=Ot(t);x.setAttribute("style",`${w};${Mt}`),x.value=t.value||t.placeholder||"";let f=x.scrollHeight;const b={};c==="border-box"?f=f+u:c==="content-box"&&(f=f-r),x.value="";const _=x.scrollHeight-r;if(ke(n)){let m=_*n;c==="border-box"&&(m=m+r+u),f=Math.max(m,f),b.minHeight=`${m}px`}if(ke(s)){let m=_*s;c==="border-box"&&(m=m+r+u),f=Math.min(m,f)}return b.height=`${f}px`,(o=x.parentNode)==null||o.removeChild(x),x=void 0,b}const Rt=Ze({id:{type:String,default:void 0},size:et,disabled:Boolean,modelValue:{type:re([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:re([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ze},prefixIcon:{type:ze},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:re([Object,Array,String]),default:()=>zt({})}}),At={[de]:t=>se(t),input:t=>se(t),change:t=>se(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Bt=["role"],Gt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Lt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Ht=Te({name:"ElInput",inheritAttrs:!1}),Ut=Te({...Ht,props:Rt,emits:At,setup(t,{expose:n,emit:s}){const o=t,r=tt(),u=ot(),c=h(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=r["aria-haspopup"],e["aria-owns"]=r["aria-owns"],e["aria-expanded"]=r["aria-expanded"]),e}),w=h(()=>[o.type==="textarea"?fe.b():i.b(),i.m(Re.value),i.is("disabled",D.value),i.is("exceed",Ge.value),{[i.b("group")]:u.prepend||u.append,[i.bm("group","append")]:u.append,[i.bm("group","prepend")]:u.prepend,[i.m("prefix")]:u.prefix||o.prefixIcon,[i.m("suffix")]:u.suffix||o.suffixIcon||o.clearable||o.showPassword,[i.bm("suffix","password-clear")]:q.value&&oe.value},r.class]),f=h(()=>[i.e("wrapper"),i.is("focus",M.value)]),b=Et({excludeKeys:h(()=>Object.keys(c.value))}),{form:_,formItem:m}=at(),{inputId:pe}=nt(o,{formItemContext:m}),Re=st(),D=rt(),i=Ee("input"),fe=Ee("textarea"),j=ie(),I=ie(),M=$(!1),te=$(!1),T=$(!1),K=$(!1),ve=$(),W=ie(o.inputStyle),O=h(()=>j.value||I.value),me=h(()=>{var e;return(e=_==null?void 0:_.statusIcon)!=null?e:!1}),R=h(()=>(m==null?void 0:m.validateState)||""),he=h(()=>R.value&&it[R.value]),Ae=h(()=>K.value?lt:ut),Be=h(()=>[r.style,o.inputStyle]),ge=h(()=>[o.inputStyle,W.value,{resize:o.resize}]),k=h(()=>dt(o.modelValue)?"":String(o.modelValue)),q=h(()=>o.clearable&&!D.value&&!o.readonly&&!!k.value&&(M.value||te.value)),oe=h(()=>o.showPassword&&!D.value&&!o.readonly&&!!k.value&&(!!k.value||M.value)),V=h(()=>o.showWordLimit&&!!b.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!D.value&&!o.readonly&&!o.showPassword),ae=h(()=>k.value.length),Ge=h(()=>!!V.value&&ae.value>Number(b.value.maxlength)),Le=h(()=>!!u.suffix||!!o.suffixIcon||q.value||o.showPassword||V.value||!!R.value&&me.value),[He,Ue]=Ft(j);ct(I,e=>{if(je(),!V.value||o.resize!=="both")return;const l=e[0],{width:S}=l.contentRect;ve.value={right:`calc(100% - ${S+15+6}px)`}});const A=()=>{const{type:e,autosize:l}=o;if(!(!Me||e!=="textarea"||!I.value))if(l){const S=$e(l)?l.minRows:void 0,X=$e(l)?l.maxRows:void 0,_e=Ve(I.value,S,X);W.value={overflowY:"hidden",..._e},F(()=>{I.value.offsetHeight,W.value=_e})}else W.value={minHeight:Ve(I.value).minHeight}},je=(e=>{let l=!1;return()=>{var S;if(l||!o.autosize)return;((S=I.value)==null?void 0:S.offsetParent)===null||(e(),l=!0)}})(A),B=()=>{const e=O.value;!e||e.value===k.value||(e.value=k.value)},ne=async e=>{He();let{value:l}=e.target;if(o.formatter&&(l=o.parser?o.parser(l):l,l=o.formatter(l)),!T.value){if(l===k.value){B();return}s(de,l),s("input",l),await F(),B(),Ue()}},ye=e=>{s("change",e.target.value)},be=e=>{s("compositionstart",e),T.value=!0},we=e=>{var l;s("compositionupdate",e);const S=(l=e.target)==null?void 0:l.value,X=S[S.length-1]||"";T.value=!Vt(X)},xe=e=>{s("compositionend",e),T.value&&(T.value=!1,ne(e))},Ke=()=>{K.value=!K.value,Y()},Y=async()=>{var e;await F(),(e=O.value)==null||e.focus()},We=()=>{var e;return(e=O.value)==null?void 0:e.blur()},Se=e=>{M.value=!0,s("focus",e)},Ce=e=>{var l;M.value=!1,s("blur",e),o.validateEvent&&((l=m==null?void 0:m.validate)==null||l.call(m,"blur").catch(S=>Ne()))},qe=e=>{te.value=!1,s("mouseleave",e)},Ye=e=>{te.value=!0,s("mouseenter",e)},Ie=e=>{s("keydown",e)},Xe=()=>{var e;(e=O.value)==null||e.select()},Pe=()=>{s(de,""),s("change",""),s("clear"),s("input","")};return le(()=>o.modelValue,()=>{var e;F(()=>A()),o.validateEvent&&((e=m==null?void 0:m.validate)==null||e.call(m,"change").catch(l=>Ne()))}),le(k,()=>B()),le(()=>o.type,async()=>{await F(),B(),A()}),pt(()=>{!o.formatter&&o.parser,B(),F(A)}),n({input:j,textarea:I,ref:O,textareaStyle:ge,autosize:ft(o,"autosize"),focus:Y,blur:We,select:Xe,clear:Pe,resizeTextarea:A}),(e,l)=>H((d(),g("div",ue(a(c),{class:a(w),style:a(Be),role:e.containerRole,onMouseenter:Ye,onMouseleave:qe}),[p(" input "),e.type!=="textarea"?(d(),g(ee,{key:0},[p(" prepend slot "),e.$slots.prepend?(d(),g("div",{key:0,class:y(a(i).be("group","prepend"))},[J(e.$slots,"prepend")],2)):p("v-if",!0),v("div",{class:y(a(f))},[p(" prefix slot "),e.$slots.prefix||e.prefixIcon?(d(),g("span",{key:0,class:y(a(i).e("prefix"))},[v("span",{class:y(a(i).e("prefix-inner")),onClick:Y},[J(e.$slots,"prefix"),e.prefixIcon?(d(),P(a(L),{key:0,class:y(a(i).e("icon"))},{default:C(()=>[(d(),P(Q(e.prefixIcon)))]),_:1},8,["class"])):p("v-if",!0)],2)],2)):p("v-if",!0),v("input",ue({id:a(pe),ref_key:"input",ref:j,class:a(i).e("inner")},a(b),{type:e.showPassword?K.value?"text":"password":e.type,disabled:a(D),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:o.form,onCompositionstart:be,onCompositionupdate:we,onCompositionend:xe,onInput:ne,onFocus:Se,onBlur:Ce,onChange:ye,onKeydown:Ie}),null,16,Gt),p(" suffix slot "),a(Le)?(d(),g("span",{key:1,class:y(a(i).e("suffix"))},[v("span",{class:y(a(i).e("suffix-inner")),onClick:Y},[!a(q)||!a(oe)||!a(V)?(d(),g(ee,{key:0},[J(e.$slots,"suffix"),e.suffixIcon?(d(),P(a(L),{key:0,class:y(a(i).e("icon"))},{default:C(()=>[(d(),P(Q(e.suffixIcon)))]),_:1},8,["class"])):p("v-if",!0)],64)):p("v-if",!0),a(q)?(d(),P(a(L),{key:1,class:y([a(i).e("icon"),a(i).e("clear")]),onMousedown:mt(a(ht),["prevent"]),onClick:Pe},{default:C(()=>[U(a(vt))]),_:1},8,["class","onMousedown"])):p("v-if",!0),a(oe)?(d(),P(a(L),{key:2,class:y([a(i).e("icon"),a(i).e("password")]),onClick:Ke},{default:C(()=>[(d(),P(Q(a(Ae))))]),_:1},8,["class"])):p("v-if",!0),a(V)?(d(),g("span",{key:3,class:y(a(i).e("count"))},[v("span",{class:y(a(i).e("count-inner"))},N(a(ae))+" / "+N(a(b).maxlength),3)],2)):p("v-if",!0),a(R)&&a(he)&&a(me)?(d(),P(a(L),{key:4,class:y([a(i).e("icon"),a(i).e("validateIcon"),a(i).is("loading",a(R)==="validating")])},{default:C(()=>[(d(),P(Q(a(he))))]),_:1},8,["class"])):p("v-if",!0)],2)],2)):p("v-if",!0)],2),p(" append slot "),e.$slots.append?(d(),g("div",{key:1,class:y(a(i).be("group","append"))},[J(e.$slots,"append")],2)):p("v-if",!0)],64)):(d(),g(ee,{key:1},[p(" textarea "),v("textarea",ue({id:a(pe),ref_key:"textarea",ref:I,class:a(fe).e("inner")},a(b),{tabindex:e.tabindex,disabled:a(D),readonly:e.readonly,autocomplete:e.autocomplete,style:a(ge),"aria-label":e.label,placeholder:e.placeholder,form:o.form,onCompositionstart:be,onCompositionupdate:we,onCompositionend:xe,onInput:ne,onFocus:Se,onBlur:Ce,onChange:ye,onKeydown:Ie}),null,16,Lt),a(V)?(d(),g("span",{key:0,style:gt(ve.value),class:y(a(i).e("count"))},N(a(ae))+" / "+N(a(b).maxlength),7)):p("v-if",!0)],64))],16,Bt)),[[Z,e.type!=="hidden"]])}});var jt=yt(Ut,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Kt=bt(jt);let Fe=!1;const Wt=wt("Money",{state:()=>({money:[]}),actions:{async Init(){if(!Fe){const t=await $t("https://api.murderscene.net/auth/currency",{method:"GET",credentials:"include",async onRequestError({request:n,options:s,error:o}){console.log("[fetch request error]",n,o)},async onResponse({request:n,response:s,options:o}){console.log(s)},headers:{Cookie:"laravel_session="+Oe.getCookie("laravel_session")}});this.money=xt.hydrate(t),Fe=!0}}}});var qt=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Xt=(t,n,s,o)=>{for(var r=o>1?void 0:o?Yt(n,s):n,u=t.length-1,c;u>=0;u--)(c=t[u])&&(r=(o?c(n,s,r):c(r))||r);return o&&r&&qt(n,s,r),r};let ce=class extends St{constructor(){super(...arguments);G(this,"donation",$(""));G(this,"hasFinishedSteamLoad",!1);G(this,"MoneyStore",Wt());G(this,"runtimeConfig",Ct())}async created(){await this.MoneyStore.Init(),this.hasFinishedSteamLoad=!0}get User(){return Oe.getCookie("steamid64")}get Currency(){return this.MoneyStore.money}get isGMOD(){return navigator.userAgent.match("GMod/13")!=null}get formattedGP(){return new Intl.NumberFormat().format(this.Currency.gp)}get show(){return this.hasFinishedSteamLoad}get calulatedGP(){var n=parseInt(this.donation),s=parseInt(this.runtimeConfig.public.gpPerDollar);return new Intl.NumberFormat().format(n*s)}get iDonation(){var n=parseFloat(this.donation).toFixed(2);return Number.isNaN(n)?0:n}get sDonation(){var n=this.iDonation.toString();return n.replace(".","")}get sGPPerDollar(){return new Intl.NumberFormat().format(this.runtimeConfig.public.gpPerDollar)}submitDonation(){Number.isNaN(parseInt(this.donation))||parseInt(this.donation)<=0||this.$router.push("confirm?amt="+this.sDonation)}};ce=Xt([It({components:{}})],ce);const Jt=v("div",{class:"donate-header"}," DONATE ",-1),Qt=["element-loading-spinner"],Zt={class:"donate-container"},eo={key:0,class:"unlogin-notice"},to={key:1,class:"login-notice"},oo={key:2,href:"https://api.murderscene.net/auth/steam?ret=https://murderscene.net/donate",class:"user-login"},ao=v("img",{src:kt,style:{height:"80px"}},null,-1),no=[ao],so=["href"],ro={class:"steam-media-left"},io=["src"],lo={class:"steam-media-body"},uo=v("br",null,null,-1),co=v("br",null,null,-1),po={class:"donate"};function fo(t,n,s,o,r,u){const c=_t,w=Kt,f=Nt;return d(),g(ee,null,[Jt,!t.show&&!t.isGMOD?H((d(),g("div",{key:0,class:"loading-donate","element-loading-text":"Loading...","element-loading-spinner":t.svg,"element-loading-svg-view-box":"0, 0, 50, 50","element-loading-background":"rgba(122, 122, 122, 0)"},null,8,Qt)),[[f,!0]]):p("",!0),U(De,{name:"el-zoom-in-center"},{default:C(()=>[H(v("div",Zt,[n[0]||(z(-1),n[0]=v("div",{class:"donate-info"},[E(" Our community pays monthly for premium Garry's Mod hosting. To help us out you can donate for GP (in-game currency) which can be used on all our servers for cosmetics, avatar, and other server unique items. Donated funds will be put toward the upkeep of this community! ")]),z(1),n[0]),t.User?p("",!0):(d(),g("div",eo," Please sign in through Steam ")),t.User?(d(),g("div",to," You're Logged Into Steam ✓ ")):p("",!0),n[1]||(z(-1),n[1]=t.User?p("",!0):(d(),g("a",oo,no)),z(1),n[1]),t.User?H((d(),g("a",{key:3,class:"steam-card",href:`https://steamcommunity.com/profiles/${t.User.steamid}`},[v("div",ro,[v("img",{src:`${t.Currency.avatar}`,style:{height:"140px"}},null,8,io)]),v("div",lo,[E(N(t.Currency.name)+" ",1),uo,E(" "+N(t.formattedGP)+" GP ",1)])],8,so)),[[Z,t.show]]):p("",!0),n[2]||(z(-1),n[2]=v("div",{class:"donate-amount-header"},[E(" Enter An Amount ")]),z(1),n[2]),n[3]||(z(-1),n[3]=v("div",{class:"donate-notice"},[E(" Rates: "),co,E(" $1 = "+N(t.sGPPerDollar)+" GP ",1)]),z(1),n[3]),U(De,{name:"el-zoom-in-bottom"},{default:C(()=>[H(v("div",{class:"donate-amount-header"},N(t.calulatedGP)+" GP ",513),[[Z,t.donation!=""&&t.calulatedGP!="NaN"]])]),_:1}),v("div",po,[U(w,{modelValue:t.donation,"onUpdate:modelValue":n[4]||(n[4]=b=>t.donation=b),placeholder:"0",class:"donate-input"},{prepend:C(()=>[E(" $ ")]),append:C(()=>[U(c,{class:"donate-button",onClick:t.submitDonation},{default:C(()=>[E(" select ")]),_:1},8,["onClick"])]),_:1},8,["modelValue"])])],512),[[Z,t.show]])]),_:1})],64)}const bo=Pt(ce,[["render",fo]]);export{bo as default};
